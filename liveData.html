<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Projects</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="https://fonts.googleapis.com/css?family=Caveat|Caveat+Brush|Roboto+Mono:400,500,700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="style.css">
		<script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.20.2.js"></script>
		<script src="https://pubnub.github.io/eon/v/eon/1.0.0/eon.js"></script>
		<link rel="stylesheet" href="https://pubnub.github.io/eon/v/eon/1.0.0/eon.css"/>
		
		<script>
			var pubnub = new PubNub({
			publishKey: "pub-c-f6f91f16-a809-447a-9179-f2af45ec65f1", //PawPulse publish key
			subscribeKey: "sub-c-0ae8a45a-5581-11ea-b828-26d2a984a2e5",//PawPulse subscribe key
			ssl: true
			});
		</script>
	</head>
	
<body>
	<header>
		<img src="img\logo.png" alt="paw pulse logo" class="header-logo"></li></a>
		<nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="projects.html">Projects</a></li>
				<li><a href="liveData.html">Live Data</a></li>
				<li><a href="https://github.com/jimmyng94/PawPulse">Github</a></li>
			</ul>
		</nav>
	</header>
	
	<main>
		<section class="title-banner">
			<h1>Live Heartrate</h1>
		</section>
		
		<section class="liveData-banner1">
			<h2>Current Heartrate:<h2>
			<p id="bpmMsg">___</p>
		
		<section class="liveData-chart">
			<div id="heartrateChart"></div>
				<script>
					eon.chart({
						pubnub: pubnub,
						channels: ["bpm"],
						generate: {
							bindto: '#heartrateChart',
							data: {
								labels: true
							}
						}
					});
				</script>
		</section>
		</section>
		
		<section class="title-banner">
			<h1>Live Step Counter</h1>
		</section>
		
		<section class="liveData-banner2">
			<h2>Current Step Count:<h2>
			<p id="stepMsg">___</p>
			
		<section class="liveData-chart">	
			<div id="stepCountChart"></div>
				<script>
					eon.chart({
						pubnub: pubnub,
						channels: ["step"],
						generate: {
							bindto: '#stepCountChart',
							data: {
								labels: true
							}
						}
					});
				</script>
		</section>
		</section>
	</main>
	
	<footer>
		<ul>
			<li><h1>Contact us:<h1></li>
			<li><h1>pawbeatstudent@gmail.com<h1></li>
			<div class="footer-license">
				<li><h2>MIT License Copyright (c) 2020 PawPulse</h2></li>
			</div>
		</ul>
		
		<div class="footer-social">
			<a href="https://www.instagram.com/paw_pulse/">
				<img src="img\instagram.png" alt="instagram logo">
			</a>
			<a href="https://twitter.com/paw_pulse">
				<img src="img\twitter.png" alt="twitter logo">
			</a>
			<a href="https://github.com/jimmyng94/PawPulse">
				<img src="img\github.png" alt="github logo">
			</a>
		</div>
	</footer>	
</body>

<!-- Instantionlise PubNub -->
<script>
	pubnub.addListener({ //set listener config
	message: function(m) { //handle message 
	var msg = m.message;
	var channelName = m.channel;
	console.log(m.message); //log message on console
	if (channelName == "bpm") {
		document.getElementById("bpmMsg").innerHTML = msg.eon.bpm;
	}
	if (channelName == "step") {
		document.getElementById("stepMsg").innerHTML=msg.eon.step;
	}
	}
	});
			
	pubnub.subscribe({ //subscribe to channel
	channels: ['bpm','step'] //channel 'bpm' & 'step'
	});
</script>
</html>